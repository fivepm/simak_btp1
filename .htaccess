#RewriteEngine On
#RewriteBase /

# ==== KODE MAINTENANCE DIMULAI ====

# 1. Masukkan alamat IP Anda di sini agar Anda tetap bisa mengakses website.
# Ganti YOUR_IP_ADDRESS dengan alamat IP Anda.
#RewriteCond %{REMOTE_ADDR} !=YOUR_IP_ADDRESS

# 2. Kondisi untuk memastikan permintaan bukan untuk halaman maintenance itu sendiri (mencegah loop).
#RewriteCond %{REQUEST_URI} !/maintenance\.php$

# 3. Alihkan semua permintaan lain ke halaman maintenance.
#RewriteRule .* maintenance.php [L]

# ==== KODE MAINTENANCE SELESAI ====

<IfModule mod_rewrite.c>
    RewriteEngine On

    # Aturan 1: Jika permintaan adalah untuk file atau direktori yang sudah ada,
    # jangan lakukan apa-apa. (Ini melindungi API login dan folder lain).
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # Aturan 2: Untuk permintaan lainnya, coba tambahkan ekstensi .php.
    # Aturan ini sekarang bisa menangani subfolder seperti 'auth/logout'.
    RewriteRule ^(.+)$ $1.php [NC,L]
</IfModule>